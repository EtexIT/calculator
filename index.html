<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project COMPASS - Cost Estimation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
<nav class="nav-bar">
    <div class="w-full flex justify-between items-center">
        <div class="space-y-4">
            <h1>EtexIT PMO - Project Calculator</h1>
            <div class="nav-links">
                <a href="project-assesment.html" class="nav-button cost">Assessment</a>
                <a href="index.html" class="nav-button cost">Cost Estimation</a>
                <a href="savings.html" class="nav-button savings">Savings</a>
                <a href="summary.html" class="nav-button business-case active">Business Case</a>
                <a href="instructions.html" class="nav-button instructions">Instructions</a>
                <a href="formulas.html" class="nav-button instructions">Formulas</a>
            </div>
        </div>
    </div>
</nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Project Information -->
        <div class="project-info-section">
    <h2 class="section-title">Project Information</h2>
    <div class="info-grid">
        <div class="form-group">
            <label for="projectName">Project Name</label>
            <input type="text" id="projectName" class="form-input">
        </div>
        <div class="form-group">
            <label for="estimatedBy">Estimated By</label>
            <input type="text" id="estimatedBy" class="form-input">
        </div>
        <div class="form-group">
            <label for="estimationDate">Date</label>
            <input type="date" id="estimationDate" class="form-input">
        </div>
    </div>
    
    <div class="capex-section">
        <input type="checkbox" id="isCapexProject">
        <label for="isCapexProject" class="checkbox-label">CAPEX Project</label>
        <span class="tooltip" data-tooltip="CAPEX includes team costs during preparation & execution, one-time technology costs, and external costs">ⓘ</span>
    </div>
</div>

        <!-- Team Costs -->
        <div class="section">
    <h2 class="section-title">Team Costs</h2>
    <table id="teamCostsTable" class="cost-table">
                <thead>
                    <tr>
                        <th>Role</th>
                        <th># Persons</th>
                        <th>Daily Rate (€)</th>
                        <th>Days - Validation</th>
                        <th>Days - Preparation</th>
                        <th>Days - Execution</th>
                        <th>Contingency (%)</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Project Manager</td>
                        <td><input type="number" class="persons" min="0" step="1"></td>
                        <td><input type="number" class="rate" min="0" step="1"></td>
                        <td><input type="number" class="days-validation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-preparation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-execution" min="0" step="0.5"></td>
                        <td><input type="number" class="contingency" min="0" max="100"></td>
                        <td class="total">€0.00</td>
                    </tr>
                    <tr>
                        <td>Solution Architecture</td>
                        <td><input type="number" class="persons" min="0" step="1"></td>
                        <td><input type="number" class="rate" min="0" step="1"></td>
                        <td><input type="number" class="days-validation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-preparation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-execution" min="0" step="0.5"></td>
                        <td><input type="number" class="contingency" min="0" max="100"></td>
                        <td class="total">€0.00</td>
                    </tr>
                    <tr>
                        <td>Business Analyst</td>
                        <td><input type="number" class="persons" min="0" step="1"></td>
                        <td><input type="number" class="rate" min="0" step="1"></td>
                        <td><input type="number" class="days-validation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-preparation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-execution" min="0" step="0.5"></td>
                        <td><input type="number" class="contingency" min="0" max="100"></td>
                        <td class="total">€0.00</td>
                    </tr>
                    <tr>
                        <td>Developer</td>
                        <td><input type="number" class="persons" min="0" step="1"></td>
                        <td><input type="number" class="rate" min="0" step="1"></td>
                        <td><input type="number" class="days-validation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-preparation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-execution" min="0" step="0.5"></td>
                        <td><input type="number" class="contingency" min="0" max="100"></td>
                        <td class="total">€0.00</td>
                    </tr>
                    <tr>
                        <td>Tester</td>
                        <td><input type="number" class="persons" min="0" step="1"></td>
                        <td><input type="number" class="rate" min="0" step="1"></td>
                        <td><input type="number" class="days-validation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-preparation" min="0" step="0.5"></td>
                        <td><input type="number" class="days-execution" min="0" step="0.5"></td>
                        <td><input type="number" class="contingency" min="0" max="100"></td>
                        <td class="total">€0.00</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="7">Total Team Costs:</td>
                        <td id="totalTeamCosts">€0.00</td>
                    </tr>
                </tfoot>
            </table>

            <div class="phase-distribution">
        <h3>Phase Cost Distribution</h3>
        <div class="phase-grid">
            <div class="phase-card">
                <div class="phase-title">Validation Phase</div>
                <div id="validationPhaseCost" class="phase-amount">€0.00</div>
            </div>
            <div class="phase-card">
                <div class="phase-title">Preparation Phase</div>
                <div id="preparationPhaseCost" class="phase-amount">€0.00</div>
            </div>
            <div class="phase-card">
                <div class="phase-title">Execution Phase</div>
                <div id="executionPhaseCost" class="phase-amount">€0.00</div>
            </div>
        </div>
    </div>
</div>

        <!-- Technology Costs -->
        <div class="section">
    <h2 class="section-title">Technology Costs</h2>
    <table id="techCostsTable" class="cost-table">
    <thead>
        <tr>
            <th>Item</th>
            <th>One-time Cost (€)</th>
            <th>Monthly Cost (€)</th>
            <th>Duration (Months)</th>
            <th>Total</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Licenses</td>
            <td><input type="number" class="tech-onetime" min="0" step="1"></td>
            <td><input type="number" class="tech-monthly" min="0" step="1"></td>
            <td><input type="number" class="tech-duration" min="0" step="1"></td>
            <td class="total">€0.00</td>
        </tr>
        <tr>
            <td>Infrastructure</td>
            <td><input type="number" class="tech-onetime" min="0" step="1"></td>
            <td><input type="number" class="tech-monthly" min="0" step="1"></td>
            <td><input type="number" class="tech-duration" min="0" step="1"></td>
            <td class="total">€0.00</td>
        </tr>
        <tr>
            <td>Cloud Services</td>
            <td><input type="number" class="tech-onetime" min="0" step="1"></td>
            <td><input type="number" class="tech-monthly" min="0" step="1"></td>
            <td><input type="number" class="tech-duration" min="0" step="1"></td>
            <td class="total">€0.00</td>
        </tr>
        <tr>
            <td>Tools</td>
            <td><input type="number" class="tech-onetime" min="0" step="1"></td>
            <td><input type="number" class="tech-monthly" min="0" step="1"></td>
            <td><input type="number" class="tech-duration" min="0" step="1"></td>
            <td class="total">€0.00</td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="4">Total Technology Costs:</td>
            <td id="totalTechCosts">€0.00</td>
        </tr>
    </tfoot>
</table>
</div>

<!-- External Costs Section -->
<div class="section">
    <h2 class="section-title">External Costs</h2>
    <table id="externalCostsTable" class="cost-table">
    <thead>
        <tr>
            <th>Item</th>
            <th>Cost (€)</th>
            <th>Contingency (%)</th>
            <th>Total with Contingency</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Vendors</td>
            <td><input type="number" class="external-cost" min="0" step="1"></td>
            <td><input type="number" class="external-contingency" min="0" max="100"></td>
            <td class="total">€0.00</td>
        </tr>
        <tr>
            <td>Consultants</td>
            <td><input type="number" class="external-cost" min="0" step="1"></td>
            <td><input type="number" class="external-contingency" min="0" max="100"></td>
            <td class="total">€0.00</td>
        </tr>
        <tr>
            <td>Training</td>
            <td><input type="number" class="external-cost" min="0" step="1"></td>
            <td><input type="number" class="external-contingency" min="0" max="100"></td>
            <td class="total">€0.00</td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="3">Total External Costs:</td>
            <td id="totalExternalCosts">€0.00</td>
        </tr>
    </tfoot>
</table>
</div>

<!-- Risk Adjustment Section -->
<div class="section risk-section">
    <h2 class="section-title">Risk Adjustment</h2>
    
    <div class="form-group">
        <div id="riskScore" class="text-lg font-medium mt-2">10% adjustment (Score: 8-13)</div>
        <div class="text-sm text-gray-600 mt-1">Complete the Project Assessment Framework to adjust this value</div>
    </div>

    <div id="riskAdjustment" class="risk-amount"></div>
</div>

<!-- Charts Section -->
<div class="charts-container">
    <div class="chart-wrapper">
        <canvas id="costDistributionChart"></canvas>
    </div>
    <div class="chart-wrapper">
        <canvas id="monthlyProjectionChart"></canvas>
    </div>
</div>

<!-- Cost Summary Section -->
<div class="summary-section">
    <h2 class="section-title">Cost Summary</h2>
    <div class="cost-summary">
        <div class="cost-grid">
            <div class="cost-item">
                <div class="cost-item-label">Team Costs</div>
                <div id="summaryTeamCosts" class="cost-item-value">€0.00</div>
            </div>
            <div class="cost-item">
                <div class="cost-item-label">Technology Costs</div>
                <div id="summaryTechCosts" class="cost-item-value">€0.00</div>
            </div>
            <div class="cost-item">
                <div class="cost-item-label">External Costs</div>
                <div id="summaryExternalCosts" class="cost-item-value">€0.00</div>
            </div>
            <div class="cost-item">
                <div class="cost-item-label">Risk Adjustment</div>
                <div id="summaryRiskAdjustment" class="cost-item-value">€0.00</div>
            </div>
        </div>
        
        <div class="total-cost-item">
            <div class="cost-item-label">Total Estimated Cost</div>
            <div id="totalCost" class="cost-item-value">€0.00</div>
        </div>

        <div class="cost-classification">
            <h3 class="cost-category-title">Cost Classification</h3>
            <div class="classification-grid">
                <div class="cost-item">
                    <div class="cost-item-label">CAPEX</div>
                    <div id="totalCapex" class="cost-item-value">€0.00</div>
                </div>
                <div class="cost-item">
                    <div class="cost-item-label">OPEX</div>
                    <div id="totalOpex" class="cost-item-value">€0.00</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Action Buttons -->
<div class="action-buttons">
    <button onclick="saveEstimate()" class="button">Save Estimate</button>
    <button onclick="window.print()" class="button">Print</button>
</div>

<div id="saveIndicator" class="save-indicator">
    Estimate saved successfully!
</div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>